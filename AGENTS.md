# Repository Guidelines

## プロジェクト構成とモジュール配置
- `src/index.ts` が Citty で `mcp-manager` CLI を起動します。新規サブコマンドは `subCommands` に登録し、共通ロジックは専用ヘルパーへ切り出してください。
- `src/commands/` に各コマンドモジュールを配置し、`list.ts` のように `defineCommand` をエクスポートします。副作用を避け、テストが書きやすい純粋関数を心掛けましょう。
- 長文ドキュメントは `docs/`、個人検証用スクリプトはコミット対象外の `*.local.ts` に置き、ユーザー固有パスは共有しないでください。

## ビルド・テスト・開発コマンド
- `bun install`：依存関係をインストール。`bun.lock` 変更時は必ず再実行します。
- `bun run src/index.ts --help`：CLI 配線と使用可能なサブコマンドを確認します。
- `bun run src/index.ts list`：`~/.mcp-manager.json` 内の `mcpServers` 名を出力。設定変更前後のリグレッションチェックに利用してください。
- `bunx biome check src`：Biomelint/format。コミット前は `--write` を付けて自動修正します。

## コーディングスタイルと命名規約
- TypeScript は `@tsconfig/bun` と `@tsconfig/strictest` を継承。ESM・named export を徹底し、サブコマンドヘルパーは同一ディレクトリに配置します。
- Biome がタブインデント、ダブルクオート、推奨 lint ルールを強制します。余分な整形は避け、フォーマッタに任せてください。
- ファイルはケバブケース（例：`sync-users.ts`）、変数・関数はキャメルケース（例：`const syncUsers`）で統一します。

## テスト方針
- 既存の自動テストは未整備です。追加時は Bun のテストランナーを使用し、対象コード近くに `*.test.ts` を配置して `bun test` を実行してください。
- PR では手動実行コマンド（例：`bun run src/index.ts <subcommand>`）と期待出力を記録し、レビュアーが再現できる状態にします。
- 機密や実パスは `docs/` のモック例、もしくは破棄可能な `*.local.ts` で共有し、リポジトリには含めません。

## コミットおよびプルリクエスト方針
- コミットメッセージは履歴に倣い、70 文字以内の簡潔な命令形を基本とし、必要に応じて日本語で背景を補足します（例：`サブコマンドを追加`）。
- PR ではユーザー影響、実行した検証コマンド、関連 Issue を明記し、挙動変更時はスクリーンショットまたはターミナルログを添付してください。
- マージ前に `bunx biome check src --write` を完了し、最新ブランチへリベースできることを確認します。

## エージェント設定のヒント
- CLI は `~/.mcp-manager.json` の `mcpServers` マップから `{command, args}` を読み込みます。スキーマ変更時は `test.local.ts` のようなフィクスチャで検証してください。
- 環境依存パスは `.gitignore` 済みのローカルファイルに留め、共有ドキュメントではプレースホルダー（例：`/path/to/...`）へ置き換えましょう。

## 出力言語ポリシー
- 本リポジトリの CLI 出力・ドキュメント更新提案・レビューコメントは原則として日本語で記述してください。英語の必要性がある場合はその理由を明記したうえで併記します。

- レポートは自然な日本語で行うこと
- 造語禁止。**必ず一般的な技術用語、広く使われる日本語を使うこと**
- 不自然な翻訳禁止。**必ず一般的な日本語翻訳を行い、不自然な日本語になりそうな場合は元の英単語を使うこと**
- 省略禁止。**必ずこのレポート単体で理解できるようにすること**
